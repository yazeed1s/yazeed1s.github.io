<!doctype html>
<html lang="en">

<head>
<meta charset="UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta name="description" content="Breaking down what resources a process actually has and what the kernel tracks for it." />
<meta
    name="keywords"
    content="yazeed, blog, alharthi, yaz, yazeed1s"
/>
<link rel="canonical" href="https://yazeed1s.github.io/posts/what-a-process-owns/" />

<title>What a Process Really Owns | Yazeed&#x27;s Blog</title>
<meta property="og:site_name" content="Yazeed&#x27;s Blog" />
<meta property="og:title" content="What a Process Really Owns | Yazeed&#x27;s Blog" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://yazeed1s.github.io/posts/what-a-process-owns/" />
<meta property="og:description" content="Breaking down what resources a process actually has and what the kernel tracks for it." />

<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:title" content="What a Process Really Owns" />
<meta name="twitter:description" content="Breaking down what resources a process actually has and what the kernel tracks for it." />

    <link rel="icon" href="&#x2F;favicon.ico" />
    
    <link rel="stylesheet" href="https://yazeed1s.github.io/font.css" />
    <link rel="stylesheet" href="https://yazeed1s.github.io/css/base.css" />

           
    
    
    

          
    
    
    
    <style>
        :root {
            --nav-basis: 25%;
            --light-bg: #eae6deff;
            --light-text: #1a1410;
            --light-text-muted: #1a1410;
            --light-accent: #9E4440;
            --light-accent-hover: #7A3533;
            --light-code-bg: #e1ded6ff;
            --light-border: #abaaaaff;
            --light-bold: #1a1410;
            --light-italic: #1a1410;
            --light-headers: #1a1410;
            --dark-bg: #303132;
            --dark-text: #bebbb9ff;
            --dark-text-muted: #d5d2cf;
            --dark-accent: #e57665;
            --dark-accent-hover: #888885;
            --dark-code-bg: #282829;
            --dark-border: #524f4c;
            --dark-bold: #d5d2cf;
            --dark-italic: #d5d2cf;
            --dark-headers: #d5d2cf;
        }
    </style>
    <meta name="theme-color" id="tc" />
    <script>
        (function () {
            var m = matchMedia("(prefers-color-scheme:dark)"),
                t = localStorage.theme || (m.matches ? "dark" : "light"),
                h = document.documentElement,
                c = document.getElementById("tc");
            h.className = t;
            function u() {
                c.content = getComputedStyle(h).getPropertyValue("--tc");
            }
            u();
            window.T = function () {
                t = t === "dark" ? "light" : "dark";
                localStorage.theme = t;
                h.className = t;
                u();
            };
        })();
    </script>
    
</head>

<body>
    <a href="#main" class="skip-link">Skip to content</a>
    <svg xmlns="http://www.w3.org/2000/svg" style="display:none"><symbol id="light" viewBox="0 0 32 32"><rect x="15" y="2" width="2" height="5"/><rect x="21.6675" y="6.8536" width="4.958" height="1.9998" transform="translate(1.5191 19.3744) rotate(-45)"/><rect x="25" y="15" width="5" height="2"/><rect x="23.1466" y="21.6675" width="1.9998" height="4.958" transform="translate(-10.0018 24.1465) rotate(-45)"/><rect x="15" y="25" width="2" height="5"/><rect x="5.3745" y="23.1466" width="4.958" height="1.9998" transform="translate(-14.7739 12.6256) rotate(-45)"/><rect x="2" y="15" width="5" height="2"/><rect x="6.8536" y="5.3745" width="1.9998" height="4.958" transform="translate(-3.253 7.8535) rotate(-45)"/><path d="M16,12a4,4,0,1,1-4,4,4.0045,4.0045,0,0,1,4-4m0-2a6,6,0,1,0,6,6,6,6,0,0,0-6-6Z"/></symbol>
<symbol id="asleep" viewBox="0 0 32 32"><path d="M13.5025,5.4136A15.0755,15.0755,0,0,0,25.096,23.6082a11.1134,11.1134,0,0,1-7.9749,3.3893c-.1385,0-.2782.0051-.4178,0A11.0944,11.0944,0,0,1,13.5025,5.4136M14.98,3a1.0024,1.0024,0,0,0-.1746.0156A13.0959,13.0959,0,0,0,16.63,28.9973c.1641.006.3282,0,.4909,0a13.0724,13.0724,0,0,0,10.702-5.5556,1.0094,1.0094,0,0,0-.7833-1.5644A13.08,13.08,0,0,1,15.8892,4.38,1.0149,1.0149,0,0,0,14.98,3Z"/></symbol>
<symbol id="rss" viewBox="0 0 32 32"><path d="M8,18c-3.3,0-6,2.7-6,6s2.7,6,6,6s6-2.7,6-6C14,20.7,11.3,18,8,18z M8,28c-2.2,0-4-1.8-4-4s1.8-4,4-4s4,1.8,4,4C12,26.2,10.2,28,8,28z"/><path d="M30,24h-2C28,13,19,4,8,4V2C20.1,2,30,11.9,30,24z"/><path d="M22,24h-2c0-6.6-5.4-12-12-12v-2C15.7,10,22,16.3,22,24z"/></symbol>
</svg>

    <header id="site-header">
        <div>
            <span class="header-brand"><a href="https://yazeed1s.github.io"><strong><span style="color: var(--accent-hover);">~/</span>Yazeed&#x27;s Blog</strong></a></span>
            <nav>
                <a href="https://yazeed1s.github.io/" >Home</a>
                <a href="https://yazeed1s.github.io/posts/"  class="active" >Posts</a>
                <a href="https://yazeed1s.github.io/projects/" >Projects</a>
                <a href="https://yazeed1s.github.io/tags/" >Tags</a>
                </nav>
            <a href="#" onclick="
                        T();
                        return false;
                    " class="theme" aria-label="Toggle theme" title="Toggle theme">
<svg><use href="#light"/></svg>
<svg><use href="#asleep"/></svg></a>
        </div>
    </header>
    <hr class="site-sep" />
    <main id="main">
<article>
    <header>
        <h1>What a Process Really Owns</h1>
        <div class="post-meta">
            <time datetime="2026-02-06">06 Feb 2026</time>
            
            <span>Breaking down what resources a process actually has and what the kernel tracks for it.</span>
             
            <span class="post-tags">
                <span class="post-tags-label">Tags: </span>
                
                <a href="https://yazeed1s.github.io/tags/os">os</a><span
                    class="tag-comma">,</span> 
                <a href="https://yazeed1s.github.io/tags/processes">processes</a><span
                    class="tag-comma">,</span> 
                <a href="https://yazeed1s.github.io/tags/linux">linux</a>
            </span>
            
        </div>
    </header>
     <p>I wanted to think through what a process actually "owns" because I realized I had a fuzzy picture of it. We throw around words like "process", "thread", "address space" but I wanted to be more concrete about what the kernel actually tracks.</p>
<h2 id="the-short-version">the short version</h2>
<p>A process owns:</p>
<ul>
<li>Its own virtual address space</li>
<li>File descriptors</li>
<li>Signal handlers</li>
<li>Resource limits</li>
<li>A process ID and various metadata</li>
<li>One or more threads of execution</li>
</ul>
<p>When you fork(), the child gets copies of most of these. When you exec(), most of it gets replaced with fresh stuff for the new program.</p>
<h2 id="address-space">address space</h2>
<p>This is the big one. Every process gets its own virtual address space. On a 64-bit system that's a huge range of addresses (48 bits usable on x86-64, so 256 TB of virtual space).</p>
<p>The address space contains:</p>
<ul>
<li><strong>Text segment</strong>: the executable code, usually read-only</li>
<li><strong>Data segment</strong>: initialized global/static variables</li>
<li><strong>BSS</strong>: uninitialized globals (zeroed on startup)</li>
<li><strong>Heap</strong>: dynamic allocations (malloc, new)</li>
<li><strong>Stack</strong>: function call frames, local variables</li>
<li><strong>Memory-mapped regions</strong>: shared libraries, mmap'd files, anonymous mappings</li>
</ul>
<p>The kernel tracks all this in data structures (on Linux, the <code>mm_struct</code> and a tree of <code>vm_area_struct</code>). Each region has permissions (read/write/execute) and backing (file, anonymous, shared, private).</p>
<p>You can see your process's memory map in <code>/proc/self/maps</code>:</p>
<pre class="giallo" style="color-scheme: light dark; color: light-dark(#4B4B48, #D4D4C0); background-color: light-dark(#D7D5C3, #212121);"><code data-lang="shellscript"><span class="giallo-l"><span style="color: light-dark(#3C6362, #A2BD90);">$</span><span style="color: light-dark(#4A6934, #CB8B8B);"> cat</span><span style="color: light-dark(#4A6934, #CB8B8B);"> /proc/self/maps</span></span>
<span class="giallo-l"><span style="color: light-dark(#3C6362, #A2BD90);">55a4c8a00000-55a4c8a02000</span><span style="color: light-dark(#4A6934, #CB8B8B);"> r--p</span><span style="color: light-dark(#784367, #CA9D7D);"> 00000000</span><span style="color: light-dark(#4A6934, #CB8B8B);"> 08:01</span><span style="color: light-dark(#784367, #CA9D7D);"> 1234567</span><span style="color: light-dark(#4A6934, #CB8B8B);">  /usr/bin/cat</span></span>
<span class="giallo-l"><span style="color: light-dark(#3C6362, #A2BD90);">55a4c8a02000-55a4c8a06000</span><span style="color: light-dark(#4A6934, #CB8B8B);"> r-xp</span><span style="color: light-dark(#784367, #CA9D7D);"> 00002000</span><span style="color: light-dark(#4A6934, #CB8B8B);"> 08:01</span><span style="color: light-dark(#784367, #CA9D7D);"> 1234567</span><span style="color: light-dark(#4A6934, #CB8B8B);">  /usr/bin/cat</span></span>
<span class="giallo-l"><span style="color: light-dark(#3C6362, #A2BD90);">55a4c8a06000-55a4c8a09000</span><span style="color: light-dark(#4A6934, #CB8B8B);"> r--p</span><span style="color: light-dark(#784367, #CA9D7D);"> 00006000</span><span style="color: light-dark(#4A6934, #CB8B8B);"> 08:01</span><span style="color: light-dark(#784367, #CA9D7D);"> 1234567</span><span style="color: light-dark(#4A6934, #CB8B8B);">  /usr/bin/cat</span></span>
<span class="giallo-l"><span style="color: light-dark(#784367, #CA9D7D);">.</span><span style="color: light-dark(#784367, #CA9D7D);">.</span><span style="color: light-dark(#784367, #CA9D7D);">.</span></span>
<span class="giallo-l"><span style="color: light-dark(#3C6362, #A2BD90);">7f8c12000000-7f8c12021000</span><span style="color: light-dark(#4A6934, #CB8B8B);"> rw-p</span><span style="color: light-dark(#784367, #CA9D7D);"> 00000000</span><span style="color: light-dark(#4A6934, #CB8B8B);"> 00:00</span><span style="color: light-dark(#784367, #CA9D7D);"> 0</span></span>
<span class="giallo-l"><span style="color: light-dark(#3C6362, #A2BD90);">7ffd5c9e0000-7ffd5ca01000</span><span style="color: light-dark(#4A6934, #CB8B8B);"> rw-p</span><span style="color: light-dark(#784367, #CA9D7D);"> 00000000</span><span style="color: light-dark(#4A6934, #CB8B8B);"> 00:00</span><span style="color: light-dark(#784367, #CA9D7D);"> 0</span><span>        [stack</span><span>]</span></span></code></pre>
<p>Each line is a region with its address range, permissions, offset, device, inode, and path.</p>
<h2 id="file-descriptors">file descriptors</h2>
<p>A process has a table of open file descriptors. These are just small integers (0, 1, 2, 3, ...) that refer to open files, pipes, sockets, devices, whatever.</p>
<p>By convention:</p>
<ul>
<li>0 = stdin</li>
<li>1 = stdout</li>
<li>2 = stderr</li>
</ul>
<p>When you open() a file, you get the lowest available fd number. When you fork(), the child inherits copies of the parent's fd table (pointing to the same underlying file objects, so they share the file offset).</p>
<p>The kernel tracks this in a <code>files_struct</code>. Each fd points to a <code>file</code> object which points to an inode.</p>
<p>You can see a process's fds in <code>/proc/[pid]/fd/</code>:</p>
<pre class="giallo" style="color-scheme: light dark; color: light-dark(#4B4B48, #D4D4C0); background-color: light-dark(#D7D5C3, #212121);"><code data-lang="shellscript"><span class="giallo-l"><span style="color: light-dark(#3C6362, #A2BD90);">$</span><span style="color: light-dark(#4A6934, #CB8B8B);"> ls</span><span style="color: light-dark(#784367, #CA9D7D);"> -</span><span style="color: light-dark(#784367, #CA9D7D);">la</span><span style="color: light-dark(#4A6934, #CB8B8B);"> /proc/self/fd</span></span>
<span class="giallo-l"><span style="color: light-dark(#3C6362, #A2BD90);">lrwx------</span><span style="color: light-dark(#784367, #CA9D7D);"> 1</span><span style="color: light-dark(#4A6934, #CB8B8B);"> user</span><span style="color: light-dark(#4A6934, #CB8B8B);"> user</span><span style="color: light-dark(#784367, #CA9D7D);"> 64</span><span style="color: light-dark(#4A6934, #CB8B8B);"> Jan</span><span style="color: light-dark(#784367, #CA9D7D);">  1</span><span style="color: light-dark(#4A6934, #CB8B8B);"> 00:00</span><span style="color: light-dark(#784367, #CA9D7D);"> 0</span><span> -</span><span style="color: light-dark(#4B4B48, #CB8B8B);">&gt;</span><span style="color: light-dark(#4A6934, #CB8B8B);"> /dev/pts/0</span></span>
<span class="giallo-l"><span style="color: light-dark(#3C6362, #A2BD90);">lrwx------</span><span style="color: light-dark(#784367, #CA9D7D);"> 1</span><span style="color: light-dark(#4A6934, #CB8B8B);"> user</span><span style="color: light-dark(#4A6934, #CB8B8B);"> user</span><span style="color: light-dark(#784367, #CA9D7D);"> 64</span><span style="color: light-dark(#4A6934, #CB8B8B);"> Jan</span><span style="color: light-dark(#784367, #CA9D7D);">  1</span><span style="color: light-dark(#4A6934, #CB8B8B);"> 00:00</span><span style="color: light-dark(#784367, #CA9D7D);"> 1</span><span> -</span><span style="color: light-dark(#4B4B48, #CB8B8B);">&gt;</span><span style="color: light-dark(#4A6934, #CB8B8B);"> /dev/pts/0</span></span>
<span class="giallo-l"><span style="color: light-dark(#3C6362, #A2BD90);">lrwx------</span><span style="color: light-dark(#784367, #CA9D7D);"> 1</span><span style="color: light-dark(#4A6934, #CB8B8B);"> user</span><span style="color: light-dark(#4A6934, #CB8B8B);"> user</span><span style="color: light-dark(#784367, #CA9D7D);"> 64</span><span style="color: light-dark(#4A6934, #CB8B8B);"> Jan</span><span style="color: light-dark(#784367, #CA9D7D);">  1</span><span style="color: light-dark(#4A6934, #CB8B8B);"> 00:00</span><span style="color: light-dark(#784367, #CA9D7D);"> 2</span><span> -</span><span style="color: light-dark(#4B4B48, #CB8B8B);">&gt;</span><span style="color: light-dark(#4A6934, #CB8B8B);"> /dev/pts/0</span></span>
<span class="giallo-l"><span style="color: light-dark(#3C6362, #A2BD90);">lr-x------</span><span style="color: light-dark(#784367, #CA9D7D);"> 1</span><span style="color: light-dark(#4A6934, #CB8B8B);"> user</span><span style="color: light-dark(#4A6934, #CB8B8B);"> user</span><span style="color: light-dark(#784367, #CA9D7D);"> 64</span><span style="color: light-dark(#4A6934, #CB8B8B);"> Jan</span><span style="color: light-dark(#784367, #CA9D7D);">  1</span><span style="color: light-dark(#4A6934, #CB8B8B);"> 00:00</span><span style="color: light-dark(#784367, #CA9D7D);"> 3</span><span> -</span><span style="color: light-dark(#4B4B48, #CB8B8B);">&gt;</span><span style="color: light-dark(#4A6934, #CB8B8B);"> /proc/12345/fd</span></span></code></pre><h2 id="credentials-and-ids">credentials and IDs</h2>
<p>A process has:</p>
<ul>
<li><strong>PID</strong>: unique process ID</li>
<li><strong>PPID</strong>: parent process ID</li>
<li><strong>UID/GID</strong>: user and group IDs (real, effective, saved)</li>
<li><strong>Process group and session IDs</strong>: for job control</li>
</ul>
<p>The UID/GID stuff is more complicated than I expected. There's the real UID (who you actually are), effective UID (what permissions you're currently using), and saved UID (so you can drop and regain privileges). This is how setuid programs work.</p>
<h2 id="signal-handling">signal handling</h2>
<p>A process has a table of signal handlers. Each signal (SIGINT, SIGTERM, SIGSEGV, etc.) can have:</p>
<ul>
<li>Default action (terminate, ignore, stop, etc.)</li>
<li>A custom handler function</li>
<li>Ignored</li>
</ul>
<p>Plus there's a signal mask (which signals are currently blocked) and pending signals (delivered but not yet handled).</p>
<h2 id="resource-limits">resource limits</h2>
<p>Every process has limits on things like:</p>
<ul>
<li>Maximum file size it can create</li>
<li>Number of open files</li>
<li>Stack size</li>
<li>CPU time</li>
<li>Memory</li>
</ul>
<p>You can see these with <code>ulimit -a</code> in bash. The kernel enforces these.</p>
<h2 id="threads">threads</h2>
<p>Here's where it gets a bit confusing. On Linux, threads are really just processes that share stuff. When you create a thread (via clone() with the right flags), the new "thread" shares the address space, file descriptors, signal handlers, etc. with the parent.</p>
<p>So a "process" might have multiple threads, and they all share most of the resources I listed above. But each thread has its own:</p>
<ul>
<li>Thread ID</li>
<li>Stack</li>
<li>Register state</li>
<li>Signal mask</li>
<li>errno</li>
<li>Thread-local storage</li>
</ul>
<p>The kernel calls these "tasks" internally. A process is really a group of tasks that share an address space.</p>
<h2 id="pcb-and-tcb">PCB and TCB</h2>
<p>So all this stuff I've been talking about, the kernel has to store it somewhere. That's where the Process Control Block (PCB) and Thread Control Block (TCB) come in.</p>
<p><strong>Process Control Block (PCB)</strong> is a kernel data structure that holds everything about a process. On Linux this is the <code>task_struct</code> (confusingly named since it's used for both processes and threads). It contains:</p>
<ul>
<li>Process state (running, sleeping, stopped, zombie)</li>
<li>PID, PPID, credentials</li>
<li>Pointers to the memory management structures (<code>mm_struct</code>)</li>
<li>Pointer to the file descriptor table (<code>files_struct</code>)</li>
<li>Signal handling info</li>
<li>Scheduling info (priority, time slice, CPU affinity)</li>
<li>Accounting info (CPU time used, etc.)</li>
<li>Pointers to parent, children, siblings in the process tree</li>
</ul>
<p>When the scheduler picks a process to run, it reads from the PCB to restore the process's context. When the kernel needs to check permissions or deliver a signal, it looks at the PCB.</p>
<p><strong>Thread Control Block (TCB)</strong> stores the execution context for a specific thread. On Linux this is also in <code>task_struct</code> since threads and processes use the same structure. But the thread-specific stuff includes:</p>
<ul>
<li>Register state (saved during context switch)</li>
<li>Stack pointer</li>
<li>Thread ID</li>
<li>Signal mask (which signals this thread blocks)</li>
<li>Thread-local storage pointer</li>
<li>errno location</li>
</ul>
<p>The key difference is that multiple TCBs (threads) can point to the same memory management structures and file descriptor tables, while separate PCBs (processes) have their own.</p>
<p>When you do a context switch, the kernel saves the current thread's register state into its TCB, then loads the next thread's state from its TCB. If the threads belong to different processes, it also has to switch page tables (which is the expensive part).</p>
<p>You can think of it like this: the PCB holds "what resources does this process own" while the TCB holds "where is this thread in its execution". A single-threaded process has one PCB and effectively one TCB. A multi-threaded process has one PCB (shared resources) and multiple TCBs (one per thread).</p>
<h2 id="what-happens-on-fork">what happens on fork()</h2>
<p>When you fork():</p>
<ul>
<li>Address space is copied (or copy-on-write, so it's cheap until you modify things)</li>
<li>File descriptors are copied (but point to the same file objects)</li>
<li>Signal handlers are copied</li>
<li>The child gets a new PID</li>
</ul>
<p>The child is almost identical to the parent at the moment of fork. This is why fork+exec is the traditional Unix way to spawn programs: fork copies everything, then exec replaces it all with a new program.</p>
<h2 id="what-i-find-interesting">what I find interesting</h2>
<p>The address space isolation is the core thing. That's what makes a process a process. Everything else (fds, credentials, signals) is just bookkeeping.</p>
<p>Threads share the address space but are otherwise separate schedulable entities. This is why data races are possible with threads but not between processes (unless you explicitly share memory).</p>
<p>The /proc filesystem is amazing for introspection. You can see almost everything about a running process without any special tools. Just cat files.</p>
<h2 id="notes">notes</h2>
<ul>
<li>On Linux, look at <code>task_struct</code> in the kernel source to see what the kernel tracks per task</li>
<li><code>mm_struct</code> holds the memory management info</li>
<li><code>files_struct</code> holds the fd table</li>
<li><code>signal_struct</code> and <code>sighand_struct</code> handle signals</li>
<li>The clone() syscall lets you pick exactly what to share between parent and child, which is how threads are implemented</li>
<li>cgroups and namespaces add more layers of isolation on top of this (for containers)</li>
</ul>
<p>If you want to poke around a running process, check <code>/proc/[pid]/status</code> (state, memory, threads), <code>/proc/[pid]/maps</code> (memory map), <code>/proc/[pid]/fd</code> (open file descriptors), <code>/proc/[pid]/limits</code> (resource limits), <code>/proc/[pid]/task/</code> (threads). Also <code>ulimit -a</code> for your shell's limits and <code>grep ctxt /proc/self/status</code> for context switch counts.</p>
  
</article>
</main>
    <hr class="site-sep bottom-sep" />
    <footer class="s">
        
    </footer>
    

    <script>
        document.querySelectorAll("article img[srcset]").forEach((i) => {
            if (i.closest("a")) return;
            i.style.cursor = "pointer";
            i.onclick = () => {
                let d = document.createElement("div"),
                    s = i.srcset.split(",").pop().trim().split(" ")[0];
                d.className = "lb";
                d.innerHTML = '<img src="' + s + '">';
                document.body.style.overflow = "hidden";
                d.onclick = () => {
                    d.remove();
                    document.body.style.overflow = "";
                };
                document.body.appendChild(d);
            };
        });
    </script>
    
<button id="scroll-to-top" aria-label="Scroll to top" title="Scroll to top">â†‘</button>
<script>
    (function() {
        var btn = document.getElementById("scroll-to-top");
        if (btn) {
            window.addEventListener("scroll", function() {
                if (document.body.scrollTop > 300 || document.documentElement.scrollTop > 300) {
                    btn.classList.add("show");
                } else {
                    btn.classList.remove("show");
                }
            });
            btn.addEventListener("click", function() {
                window.scrollTo({top: 0, behavior: 'smooth'});
            });
        }
    })();
</script>
</body>

</html>